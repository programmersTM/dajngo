{% extends 'base.html' %}

{% block title %}
    dashboard {{ user.username|title }}
{% endblock title %}

{% block content %}
    <div class="container mt-3">
        {% if blogs %}
        <div class="card shadow-sm my-3">
            <div class="card-body">
            <h5 class="card-title">Post</h5>
            <table class="table">
                <thead class="thead">
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Blog</th>
                    <th scope="col">date created</th>
                  </tr>
                </thead>
                <tbody>
                {% for num, blog in blogs %}
                    <tr>
                        <th scope="row">{{ num }}</th>
                        <td>{{ blog.title }}</td>
                        <td>{{ blog.date_created | timesince }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            </div>
        </div>
        {% endif %}
        {% if comments %}
        <div class="card shadow-sm my-3">
            <div class="card-body">
            <h5 class="card-title">Comment</h5>
            <table class="table">
                <thead class="thead">
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Post</th>
                    <th scope="col">comment_text</th>
                  </tr>
                </thead>
                <tbody>
                {% for num, comment in comments %}
                    <tr>
                        <th scope="row">{{ num }}</th>
                        <td>{{ comment.post }}</td>
                        <td>{{ comment.comment_text | truncatewords:3 }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            </div>
        </div>
        {% endif %}
    </div>
{% endblock content %}
